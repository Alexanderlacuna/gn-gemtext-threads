# BNW interface for GN2

The BNW interface is broken at this point.

## Tags

* type: bug
* priority: high
* assigned: pjotrp
* status: in progress
* keywords: BNW

## Todo

The current output reads:

```
<title>Opening BNW</title>
<form method="post" action="http://bnw.genenetwork.org/BNW/sourcecodes/bn_genenet.php" name="bnwform" id="bnwform">
  <input type="hidden" name="My_Genenet" value="_1436869_at,_1434987_at,_1420293_at,_1459623_at,_1449781_at,_1434988_x_at,_1458048_at,_1455707_at;8.201,7.23,7.39,6.438,6.845,8.657,7.21,8.33;8.413,7.155,7.401,6.668,6.704,8.539,7.163,8.234;8.856,8.058,7.999,7.153,7.188,8.963,7.601,8.486;9.113,8.214,8.38,7.281,7.28,9.322,7.737,8.824;8.402,7.084,7.499,6.803,6.768,8.626,7.247,8.758;8.937,7.99,7.768,6.947,7.139,9.164,7.536,8.456;9.944,9.531,9.192,7.838,7.844,10.046,8.311,9.534;9.739,9.347,9.164,7.832,7.618,9.964,8.158,9.383;9.38,8.258,8.661,7.569,7.27,9.209,7.96,9.216;8.998,7.936,8.392,7.162,7.164,8.907,7.602,8.716;9.3,8.546,8.73,7.532,7.495,9.402,7.889,9.075;8.779,7.741,7.939,7.076,7.056,8.862,7.517,8.572;8.984,7.944,8.029,7.202,7.192,9.036,7.588,8.754;9.814,9.139,9.067,7.722,7.652,9.853,8.082,9.201;9.958,9.317,9.012,7.747,7.712,9.894,8.258,9.548;8.956,8.234,8.03,7.244,7.12,9.038,7.59,8.77;9.618,9.19,8.73,7.643,7.554,9.831,8.006,9.332;9.485,8.776,8.57,7.548,7.362,9.592,7.997,9.266;9.46,8.712,8.727,7.48,7.421,9.452,7.904,9.172;8.906,8.051,8.101,7.256,7.006,9.058,7.678,8.65;9.503,8.99,8.76,7.681,7.37,9.77,7.978,9.126;9.22,8.563,8.573,7.302,7.316,9.404,7.896,8.959;9.288,8.393,8.326,7.371,7.297,9.206,7.864,9.054;9.313,8.433,8.314,7.332,7.296,9.314,7.763,8.946;8.988,8.012,8.142,7.276,7.059,9.076,7.655,8.742;9.66,9.256,8.802,7.526,7.682,9.873,7.996,9.206;8.762,7.578,8.022,7.119,7.01,8.72,7.486,8.508;8.541,7.055,7.889,7.048,6.9,8.563,7.362,8.465;9.952,9.414,9.29,7.826,7.578,9.98,8.226,9.5;9.127,7.956,8.103,7.228,7.246,8.882,7.379,8.929;9.651,9.05,8.971,7.714,7.436,9.588,8.201,9.274;9.335,8.503,8.566,7.46,7.409,9.302,7.807,9.044;8.38,6.645,7.04,6.67,6.649,8.37,7.06,8.433;9.166,8.202,8.449,7.4,7.15,9.364,7.754,8.924;8.712,7.474,7.998,7.058,6.97,8.734,7.461,8.466;9.21,8.432,8.33,7.334,7.223,9.256,7.78,8.678;9.806,9.05,9.134,7.971,7.715,9.863,8.134,9.575;9.502,8.607,9.058,7.56,7.684,9.571,7.992,9.327;9.985,9.576,9.113,7.804,7.705,9.985,8.104,9.506;8.572,7.524,7.962,7.095,6.996,8.74,7.46,8.689;10.032,9.454,9.234,7.989,7.766,9.915,8.324,9.558;8.374,7.422,7.825,7.065,6.932,8.745,7.384,8.528;9.08,8.206,8.163,7.235,7.178,9.266,7.636,8.922;8.93,7.978,8.144,7.264,7.12,9.31,7.643,8.752;10.018,9.689,9.318,7.999,7.76,10.226,8.381,9.482;8.994,8.214,8.468,7.48,7.232,9.28,7.969,9.154;9.904,9.146,9.25,7.878,7.712,9.821,8.131,9.439;9.05,7.864,8.262,7.288,7.159,8.978,7.555,8.75;9.586,8.951,9.028,7.799,7.6,9.74,8.084,9.399;8.498,7.342,7.851,7.01,6.79,8.708,7.442,8.417;9.362,8.9,8.834,7.646,7.283,9.678,8.026,9.15;8.824,7.706,8.07,7.055,6.926,8.994,7.515,8.64;8.786,7.93,8.006,6.98,6.937,9.081,7.604,8.708;9.533,8.74,8.676,7.504,7.399,9.58,7.887,9.146;9.106,8.46,8.189,7.153,7.09,9.548,7.547,8.646;10.091,9.428,9.285,7.906,7.627,10.144,8.32,9.48;10.072,9.614,9.188,7.979,7.836,10.171,8.27,9.445;8.776,7.95,7.958,7.129,6.92,9.146,7.594,8.732;9.306,8.29,8.272,7.316,7.292,9.242,7.764,8.995;8.695,7.699,7.869,6.879,6.917,8.954,7.329,8.366;8.587,7.544,7.809,6.957,6.924,8.798,7.366,8.614;9.893,9.57,9.14,7.934,7.888,10.066,8.212,9.445;9.195,8.3,8.458,7.425,7.219,9.293,7.812,9.064;9.818,9.124,9.185,7.856,7.635,9.808,8.193,9.561;8.339,6.902,7.569,6.902,6.916,8.225,7.433,8.416;9.022,8.104,8.252,7.329,7.169,9.253,7.665,8.889;9.539,8.84,9.09,7.792,7.546,9.564,7.958,9.141;10.559,10.386,9.962,8.268,8.224,10.594,8.759,9.893;8.372,7.254,7.627,6.921,6.803,8.81,7.333,8.525;8.663,7.704,7.721,6.874,6.894,8.984,7.406,8.484;9.024,8.407,8.484,7.205,7.258,9.442,7.831,8.913;9.224,8.206,8.344,7.278,7.036,9.272,7.706,8.744;9.598,8.64,8.779,7.578,7.318,9.524,8.048,9.144;8.835,8.168,7.969,7.14,7.171,9.278,7.445,8.52;9.272,8.544,8.494,7.373,7.368,9.395,7.774,8.862;9.245,8.414,8.627,7.518,7.301,9.384,7.892,9.008;9.81,9.11,8.657,7.824,7.715,8.993,8.151,9.079;8.826,7.78,8.09,7.155,7.232,9.066,7.592,8.736;10.063,9.309,9.204,7.974,7.803,9.965,8.18,9.482;9.69,8.872,8.814,7.63,7.459,9.678,8.036,9.135;8.598,7.498,7.966,7.029,6.768,8.949,7.6,8.696;9.886,8.924,9.237,7.764,7.601,9.532,8.164,9.299;9.208,8.624,8.484,7.254,7.175,9.512,7.868,8.828;9.356,8.416,8.889,7.485,7.94,9.536,7.748,9.138;8.698,7.422,7.845,6.986,7.134,9.11,7.489,8.496;9.853,8.761,8.986,7.895,8.079,9.617,8.116,9.268;9.885,9.516,9.21,7.886,7.77,10.222,8.268,9.428;9.136,8.385,8.427,7.436,7.313,9.561,7.76,8.849;10.14,9.55,9.668,8.102,8.122,10.25,8.473,9.888;9.341,8.468,8.466,7.332,7.374,9.482,7.969,9.01;9.825,9.244,9.066,7.791,7.693,9.893,8.15,9.41;9.294,8.495,8.215,7.38,7.129,9.404,7.808,9.088;10.486,10.0,9.502,8.149,7.8,10.374,8.595,9.718;8.798,7.982,8.024,6.942,7.07,9.203,7.48,8.5;9.41,8.802,8.56,7.39,7.39,9.5,7.748,9.0;8.66,7.655,7.728,6.86,6.917,8.934,7.511,8.662;9.953,9.382,8.914,7.812,7.85,8.984,8.186,9.264;9.124,8.308,8.233,7.243,7.129,8.396,7.587,8.561;10.472,10.082,9.515,8.234,8.083,10.426,8.536,9.752;">
</form>
<script  type="text/javascript">
    document.bnwform.submit();
</script>
```

but is not accepted by the latest version of BNW.

## Notes

Found the PHP file on Xeon. Sent to Jesse for comment. Made a backup on rabbit.

### Run bnw test instance

```
        # Launch php-fpm
        guix environment --ad-hoc php -- php-fpm --fpm-config php-fpm.conf

        # Launch nginx
        guix environment -L guix-past/modules -L guix-bioinformatics bnw --ad-hoc nginx -- nginx -p tmp/var/run/nginx -
c nginx.conf

        # To see the BNW website
        # From your local machine:
        ssh -L 8888:localhost:8888 -N penguin2
        # and then it should be visible in your webbrowser at localhost:8888
        # I believe any local changes should be reflected immediately.
        # I believe any local changes should be reflected immediately.

        # stopping nginx
        kill $(pgrep nginx -u jessez | head -n1)

        # stopping php-fpm
        kill $(pgrep php-fpm -u jessez | head -n1)
```

When you have that running I can switch over the BNW website to yours,
so you can test run with GN. Do run BNW from GN you can:

1. Search for 'shh' in http://genenetwork.org/
2. checkbox the 3 results
3. hit the BNW button


